<!DOCTYPE html>
<html lang="en" class="bg-cultured">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bike Shop Manager</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
      integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/index.css" />
  </head>
  <body class="bg-cultured font-defaultFont text-gray">
    <!-- nav bar -->
    <%- include('partials/side-navigation.ejs') -%>

    <!-- Content -->
    <section
      class="dashboardContent relative min-h-screen left-[78px] w-[calc(100%-78px)] transition-all duration-500 ease-linear z-10 break-words mr-0 font-defaultFont"
    >
    <%- include('partials/header.ejs') -%>
      <main class="p-5">
        <!-- Order notifications -->
        <%- include('partials/order-notifications.ejs') -%>
        <!-- Table -->
        <div class="mt-5">
          <!-- STUFF TO DISPLAY -->
          <!-- form handling -->
          <form action="/" method="GET" class="w-full flex">
            <table class="grow">
              <thead class="">
                <tr class="">
                  <th class="table-border-bottom">ID</th>
                  <th class="table-border-bottom">Status</th>
                  <th class="table-border-bottom">Due date</th>
                  <th class="table-border-bottom">Service</th>
                  <th class="table-border-bottom xs:hidden lg:table-cell">
                    Client
                  </th>
                  <th class="table-border-bottom xs:hidden md:table-cell">
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <%- include('partials/order-table.ejs') %>
              </tbody>
            </table>
          </form>
        </div>
        <!-- PAGES PAGINATION -->
      </div>
      <div class="pagination mt-3 text-gray">
        <a
          href="/dashboard?page=1&pageSize=<%= pageSize %>"
          class="btn btn-square btn-outline m-1 text-gray"
          >First</a
        >
        <% if (page > 1) { %>
        <a
          href="/dashboard?page=<%= page - 1 %>&pageSize=<%= pageSize %>"
          class="btn btn-square btn-outline m-1 text-gray"
          >Prev</a
        >
        <% } %> <% for (let i = 1; i <= totalPages; i++) { %>
        <a
          href="/dashboard?page=<%= i %>&pageSize=<%= pageSize %>"
          class="btn btn-square <%= page === i ? 'btn-active' : 'btn-outline' %> m-1 text-gray"
          ><%= i %></a
        >
        <% } %> <% if (page < totalPages) { %>
        <a
          href="/dashboard?page=<%= page + 1 %>&pageSize=<%= pageSize %>"
          class="btn btn-square btn-outline m-1 text-gray"
          >Next</a
        >
        <% } %>
        <a
          href="/dashboard?page=<%= totalPages %>&pageSize=<%= pageSize %>"
          class="btn btn-square btn-outline m-1 text-gray"
          >Last</a
        >
      </div>
      </main>
    </section>
    <script src="js/sidenav.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/order-notifications.js"></script>
  </body>
</html>
